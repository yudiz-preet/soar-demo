import React, { useState } from "react";
import ReactApexChart from "react-apexcharts";
import { io } from "socket.io-client";


const ApexDateWiseVulnerability = () => {
  const [seriesData, setSeriesData] = useState([]);
  const socket = io('https://soar-backend-demo.vercel.app/');

  socket.on("connect", () => {
    console.log('connect ', socket.id); // x8WIv7-mJelg7on_ALbx
  });
  
  socket.on("disconnect", () => {
    console.log('disconnect ', socket.id); // undefined
  });

  socket.on('testData', function(data){
    console.log('data: ', data);
    setSeriesData(data || [])
});

  const chartData = {

    series: [
      {
        name: "Chart-1",
        type: "line",
        data: [0, 15, 25, 20, 32, 27]
      },
      {
        name: "Chart-2",
        type: "line",
        data: [0, 32, 20, 40, 20, 30]
      },
      {
        name: "Chart-3",
        type: "line",
        data: [0, 38, 50, 10, 28, 43]
      }
    ],
    chart: {
      height: 100,
      type: 'line',     
    },
    colors: ['#00008b', '#00FFFF', '#FFA500'],
    dataLabels: {
      enabled: true,
      style: {
        fontSize: '14px',
        colors: undefined
    },
      background:{
        enabled: true,
        foreColor: '#fff',
        padding: 4,        
        borderRadius: 15,
      }
    },
    stroke: {
      curve: 'smooth'
    },
  }
  return (
    <div style={{height:'500px', width:'500px'}}>
      <ReactApexChart options={{...chartData, series: seriesData}} series={seriesData} />
    </div>
  )
}

export default ApexDateWiseVulnerability